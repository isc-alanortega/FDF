@page "/Embedding"
@using PCG_FDF.Data.ComponentDI
@inject ApplicationState AppState
@inject NavigationManager NavigationManager

<PageTitle>CIMA Group</PageTitle>
<iframe class="intecon-iframe" src="@($"https://solicitudes.cimalogistic.com/simplex/login/?username={AppState.GetInteconUser() ?? string.Empty}&password={AppState.GetInteconPassword() ?? string.Empty}")" width="100%" height="100vh" frameborder="0"></iframe>

@code {
    protected override void OnInitialized()
    {
        if (string.IsNullOrEmpty(AppState.GetInteconUser()) || string.IsNullOrEmpty(AppState.GetInteconPassword()))
        {
            NavigationManager.NavigateTo("/");
        }
        base.OnInitialized();
    }
}
